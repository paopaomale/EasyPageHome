define(["butterfly/view","butterfly","dialog","account/account-client"],function(a,b,c,d){return a.extend({events:{"click .account-group-row":"navigateUrl","click .account-name":"onLogin"},render:function(a){},onShow:function(a){var b=this;b._initView()},onLogin:function(a){$(a.currentTarget);d.haveToken()?c.showToast("您已经登录了"):butterfly.navigate("account/login.html")},_initView:function(){var a=this,b=JSON.parse(localStorage.getItem("myInfoData")),c="",e="";d.haveToken()&&(c=_.template(a.$("#header-box-template").html(),b.data.user),a.$(".header-box").html(""),a.$(".header-box").append(c),e=_.template(a.$("#level-template").html(),b.data.user),a.$(".level").html(""),a.$(".level").append(e))},navigateUrl:function(a){var b=$(a.currentTarget).attr("data-value").trim();d.haveToken()?butterfly.navigate(b):c.showToast("请先登录！")}})});