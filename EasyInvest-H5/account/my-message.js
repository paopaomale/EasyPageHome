define(["butterfly/view","butterfly","listview/ListView","../shared/js/datasource","../account/account-client"],function(a,b,c,d,e){return a.extend({events:{"click .go-back":"goBack"},render:function(){console.log("render"),this.initListView()},onShow:function(){console.log("render")},initListView:function(){var a=this;a.datasource=new d({storage:"session",identifier:"my-message",url:e.GET_MESSAGE_URL,pageParam:"pageIndex"});var b=this.el.querySelector("#message-list"),f=_.template(this.$("#message-list-template").html());a.listview=new c({id:"my-message",el:b,autoLoad:"true",itemTemplate:f,dataSource:this.datasource}),a.listenTo(this.listview,"itemSelect",this.onItemSelect)},onItemSelect:function(a){console.log("my-message  onItemSelect")}})});