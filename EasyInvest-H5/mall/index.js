define(["butterfly/view","butterfly","swipe","iscrollprobe"],function(a,b,c){return a.extend({events:{"click .go-back":"goBack"},menuScroll:null,goodsScroll:null,render:function(){console.log("render")},onShow:function(){this.initAdSwiper(),this.initMenuIscroll(),this.initGoodsIscroll(),this.setMinHeight()},initAdSwiper:function(){var a=this;this.$el.find("#adSwipe .swiper-container");console.log(a.$("#adSwipe .swiper-container")[0]),a.swipe1=new Swipe(a.$("#adSwipe .swiper-container")[0],{continuous:!0,auto:500,callback:function(b){a.adCount<=b&&(b-=a.adCount),a.$(".addImg-pagination > span.active").removeClass("active"),$(a.$(".addImg-pagination > span")[b]).addClass("active")}})},initMenuIscroll:function(){var a=this;a.menuScroll?a.menuScroll.refresh():(a.menuScroll=new IScroll(a.$(".leftMenu-box")[0],{probeType:3}),a.menuScroll.on("scroll",function(){console.log(this.y)})),a.menuScroll.refresh()},initGoodsIscroll:function(){var a=this;a.goodsScroll?a.goodsScroll.refresh():(a.goodsScroll=new IScroll(a.$(".goods-list-box")[0],{probeType:3}),a.goodsScroll.on("scroll",function(){console.log(this.y)})),a.goodsScroll.refresh()},setMinHeight:function(){var a=window.screen.height-160;$("#scroller").css("min-height",a),$(".scroller").css("min-height",a)},setScrollerMinHeight:function(){var a=this,b=this.menuScroll.wrapperHeight,c=a.$("#adSwipe").height(),d=b+c+1;this.$el.find("#scroller").css("min-height",d),setTimeout(function(){a.menuScroll.refresh()},400)}})});