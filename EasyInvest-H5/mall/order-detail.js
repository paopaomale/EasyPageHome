define(["butterfly/view","butterfly","listview/ListView","../shared/js/datasource","../mall/mall-client","../shared/js/loading","dialog","moment"],function(a,b,c,d,e,f,g){return a.extend({events:{"click .go-back":"goBack"},render:function(a){this.initLoading(),this.orderId=a.orderId},onShow:function(a){this.getOrderDetailData()},getOrderDetailData:function(){var a=this,b={id:a.orderId};e.getOrderDetail({data:b,beforeSend:function(){a.loading&&a.loading.show()},success:function(b){0==b.result?a._initOrderView(b.data):g.showToast(b.error)},complete:function(){a.loading&&a.loading.hide()}})},_initOrderView:function(a){var b=this,c=_.template(b.$("#order-detail-template").html(),a);b.$(".container").append(c)},initLoading:function(){this.loading=new f({parentEl:this.$(".container")[0]})}})});