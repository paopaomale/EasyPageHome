define(["butterfly/view","components/moduleManager/moduleManager"],function(a,b){return a.extend({events:{"click .buttFunction":"buttonFunction","click .goback":"goBack"},render:function(){return a.prototype.render.call(this),this},onShow:function(){var a=this;a.result=JSON.parse(window.sessionStorage.getItem("moduleManageDetail"));var b=_.template(a.$el.find("#detail-template").html(),a.result);a.$el.find(".detail").append(b),a.buttonStyle()},buttonStyle:function(){var a=this,b=window.location.hash.slice(1);"changan/modulesManageDetail?installed"===b?a.$el.find(".buttFunction").addClass("buttRed"):"changan/modulesManageDetail?notInstalled"===b?a.$el.find(".buttFunction").addClass("buttGreen"):a.$el.find(".buttFunction").addClass("buttGreen")},buttonFunction:function(a){var b=this,c=$(a.currentTarget)[0],d=$(c).text();if("删除"===d){var e=this.$el.find(".module-info").attr("data-identifier");b.deleteModule(e)}else if("安装"===d){var f=[];f.push(this.result),b.installModule(f)}else{var f=[];f.push(this.result),b.updateModule(f)}},deleteModule:function(a){(new b).deleteModel(a)},installModule:function(a){(new b).downloadModules(a)},updateModule:function(a){(new b).downloadModules(a)}})});