define(["underscore"],function(a){var b=function(){},c=b.prototype;c.init=function(){var a=$("#HUDContainer");this._loadingHUD=$("<div id='netLoadingHUD' style='position:absolute;background-color:transparent;pointer-events:none;z-index:1;width:100%;height:100%'><div id='HUDView' class='bf-chrysanthemum active'><div></div></div></div>"),a.append(this._loadingHUD),this._loadingIcon=this._loadingHUD.find("#HUDView"),this._loadingIcon.hide(),this._lc=0,this._mc=0,this._lv=1},c.show=function(a){return a=a?osUtil.clone(a,!0):{},this._incLoading(a.model),a._lv=this._lv,a},c.stop=function(a){return a?void(a._lv<this._lv||this._decLoading(a.model)):void this.reset()},c.reset=function(){this._loadingIcon.hide(),this._loadingHUD.css("pointer-events","none"),this._lc=0,this._mc=0,++this._lv},c._incLoading=function(a){1==this._incLoadingCount()&&this._loadingIcon.show(),a&&1==this._incModelCount()&&this._loadingHUD.css("pointer-events","auto")},c._decLoading=function(a){0==this._decLoadingCount()&&this._loadingIcon.hide(),a&&0==this._decModelCount()&&this._loadingHUD.css("pointer-events","none")},c._incLoadingCount=function(){return++this._lc,this._lc},c._decLoadingCount=function(){return--this._lc,this._lc=Math.max(this._lc,0),this._lc},c._incModelCount=function(){return++this._mc,this._mc},c._decModelCount=function(){return--this._mc,this._mc=Math.max(this._mc,0),this._mc};var d=new b;return d.init(),d});