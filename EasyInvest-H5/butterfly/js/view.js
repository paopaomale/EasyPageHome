define(["backbone","butterfly/view-animate"],function(a,b){var c=a.View.extend({events:{"click a[data-action='back']":"goBack"},goBack:function(){window.history.back()},constructor:function(b){b&&(this.superview=b.superview),this.subviews=[],a.View.apply(this,arguments)},remove:function(){a.View.prototype.remove.call(this),this.superview=null,_.each(this.subviews,function(a){a.remove()})},find:function(a,b){var c=_.find(this.subviews,function(b){return b.el.id==a});if(b&&!c){var d=_.find(this.subviews,function(b){return b.find(a)});c=d.find(a)}return c},addSubview:function(a){this.subviews.push(a)},show:function(a){this.shown!==!0&&(this.shown=!0,$(this.el).show(),this.onShow(a))},hide:function(){this.shown!==!1&&(this.shown=!1,$(this.el).hide(),this.onHide())},onShow:function(a){$(window).on("orientationchange",this.onOrientationchange),$(window).on("resize",this.onWindowResize),$(window).on("scroll",this.onWindowScroll),_.each(this.subviews,function(b){b.onShow(a)})},onHide:function(){$(window).off("orientationchange",this.onOrientationchange),$(window).off("resize",this.onWindowResize),$(window).off("scroll",this.onWindowScroll),_.each(this.subviews,function(a){a.onHide()})},onOrientationchange:function(){this.$("input").blur()},onWindowScroll:function(){},onWindowResize:function(){},route:function(){}});return _.extend(c.prototype,b),c});