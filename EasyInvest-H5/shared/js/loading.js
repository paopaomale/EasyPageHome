define(["backbone","spin"],function(a,b){return a.View.extend({className:"loading-mask",defaults:{lines:10,length:8,width:4,radius:10,corners:1,color:"#fff",speed:1,trail:90,shadow:!1,hwaccel:!0,msg:"正在加载",parentEl:document.body},initialize:function(a){var b=_.extend(this.defaults,a),c=document.createElement("div");c.id="loading",this.el.appendChild(c),b.parentEl.appendChild(this.el);var d=document.createElement("img");d.className="loadImg",d.src="../shared/assets/imgs/dialog-loading.gif",c.appendChild(d);var e=document.createElement("div");e.className="loadContent",e.innerHTML=b.msg,c.appendChild(e)},hide:function(){this.el.classList.remove("active")},show:function(a){a?this.$(".loadContent").text(a):this.$(".loadContent").text(this.defaults.msg),this.el.classList.add("active")},remove:function(){this.spinner&&this.spinner.stop(),a.View.prototype.remove.call(this,arguments)}})});